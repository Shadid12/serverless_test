{"ast":null,"code":"import \"source-map-support/register\";\nimport { v1 } from \"uuid\";\nimport * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\nexport async function main(event) {\n  const params = {\n    TableName: 'Carts',\n    Item: {\n      userId: event.requestContext.identity.cognitoIdentityId,\n      cartId: v1(),\n      items: event.body.items,\n      createdAt: Date.now()\n    }\n  };\n\n  try {\n    await dynamoDbLib.call(\"put\", params);\n    return success(params.Item);\n  } catch (e) {\n    return failure({\n      status: false\n    });\n  }\n}","map":{"version":3,"sources":["/home/shadid/shadid/shadidhw/sshad/create-cart.js"],"names":["v1","dynamoDbLib","success","failure","main","event","params","TableName","Item","userId","requestContext","identity","cognitoIdentityId","cartId","items","body","createdAt","Date","now","call","e","status"],"mappings":";AAAA,SAAQA,EAAR,QAAiB,MAAjB;AACA,OAAO,KAAKC,WAAZ,MAA6B,qBAA7B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,qBAAjC;AAEA,OAAO,eAAeC,IAAf,CAAoBC,KAApB,EAA2B;AAChC,QAAMC,MAAM,GAAG;AACbC,IAAAA,SAAS,EAAE,OADE;AAEbC,IAAAA,IAAI,EAAE;AACJC,MAAAA,MAAM,EAAEJ,KAAK,CAACK,cAAN,CAAqBC,QAArB,CAA8BC,iBADlC;AAEJC,MAAAA,MAAM,EAAEb,EAAE,EAFN;AAGJc,MAAAA,KAAK,EAAET,KAAK,CAACU,IAAN,CAAWD,KAHd;AAIJE,MAAAA,SAAS,EAAEC,IAAI,CAACC,GAAL;AAJP;AAFO,GAAf;;AAUA,MAAI;AACF,UAAMjB,WAAW,CAACkB,IAAZ,CAAiB,KAAjB,EAAwBb,MAAxB,CAAN;AACA,WAAOJ,OAAO,CAACI,MAAM,CAACE,IAAR,CAAd;AACD,GAHD,CAGE,OAAOY,CAAP,EAAU;AACV,WAAOjB,OAAO,CAAC;AAAEkB,MAAAA,MAAM,EAAE;AAAV,KAAD,CAAd;AACD;AACF","sourcesContent":["import {v1} from \"uuid\";\nimport * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\n\nexport async function main(event) {\n  const params = {\n    TableName: 'Carts',\n    Item: {\n      userId: event.requestContext.identity.cognitoIdentityId,\n      cartId: v1(),\n      items: event.body.items,\n      createdAt: Date.now()\n    }\n  };\n\n  try {\n    await dynamoDbLib.call(\"put\", params);\n    return success(params.Item);\n  } catch (e) {\n    return failure({ status: false });\n  }\n}"]},"metadata":{},"sourceType":"module"}